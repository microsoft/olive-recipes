{
    "input_model": {
        "type": "HfModel",
        "model_path": "microsoft/Phi-3.5-mini-instruct"
    },
    "systems": {
        "local_system": {
            "type": "LocalSystem",
            "accelerators": [
                {
                    "execution_providers": [
                        "VitisAIExecutionProvider"
                    ]
                }
            ]
        }
    },
    "data_configs": [
    ],
    "passes": {
        "qq": {
            "type": "QuarkQuantization",
            "quant_scheme": "w_uint4_per_group_asym",
            "quant_algo": "awq",
            "dataset": "pileval_for_awq_benchmark",
            "data_type": "float32",
            "num_calib_data": 128,
            "model_export": [ "hf_format" ],
            "exclude_layers": [  ],
            "quant_config": {
                "name": "awq",
                "scaling_layers": [
                    {
                        "prev_op": "input_layernorm",
                        "layers": [ "self_attn.qkv_proj" ],
                        "inp": "self_attn.qkv_proj",
                        "module2inspect": "self_attn"
                    },
                    { "prev_op": "self_attn.qkv_proj", "layers": [ "self_attn.o_proj" ], "inp": "self_attn.o_proj" },
                    {
                        "prev_op": "post_attention_layernorm",
                        "layers": [ "mlp.gate_up_proj" ],
                        "inp": "mlp.gate_up_proj",
                        "module2inspect": "mlp"
                    },
                    { "prev_op": "mlp.gate_up_proj", "layers": [ "mlp.down_proj" ], "inp": "mlp.down_proj" }
                ],
                "model_decoder_layers": "model.layers"
            }
        },
        "mg": { "type": "VitisGenerateModelLLM", "packed_const": false, "cpu_only": false }
    },
    "target": "local_system",
    "log_severity_level": 1,
    "output_dir": "model/phi3_5",
    "cache_dir": "cache",
    "no_artifacts": true,
    "evaluate_input_model": false
}
